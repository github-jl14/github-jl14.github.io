<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Folder Index</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        ul { list-style-type: none; padding: 0; }
        li { margin: 10px 0; }
        a { text-decoration: none; color: blue; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>

<h1>Available Folders</h1>
<ul id="folderList"></ul>

<script>
async function loadFolders() {
    try {
        // Fetch the folder-manifest.json file
        const response = await fetch('/folder-manifest.json');
        if (!response.ok) {
            throw new Error('Network response was not ok ' + response.statusText);
        }

        const data = await response.json();
        const folders = data.folders || [];  // Extract folders array or use empty array if not found

        // Dynamically create list items for each folder
        const folderList = document.getElementById('folderList');
        folders.forEach(folder => {
            const listItem = document.createElement('li');
            const link = document.createElement('a');
            link.href = `safezone/folder.html?name=${folder}`;
            link.innerText = folder;
            listItem.appendChild(link);
            folderList.appendChild(listItem);
        });

    } catch (error) {
        console.error('Error loading folder manifest:', error.message);
    }
}

// Load the folders when the page loads
loadFolders();
</script>

</body>
</html>